<% if !@appointment.nil? && @appointment.errors.any? %>
  <div id="error">
    <h3><%= @appointment.errors.count %> error(s) prohibited account creation:</h3>
 
    <ul>
    <% @appointment.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @appointment, local: true do |f| %>
    <%= f.label :start_time, "Appointment Start" %><br>
    <%= f.datetime_select :start_time, { ampm: true, order: [:month, :day, :year] } %><br><Br>

    <%= f.label :end_time, "Appointment End" %><br>
    <%= f.datetime_select :end_time, { ampm: true, order: [:month, :day, :year] } %><br><Br>

    <%= f.label :service_id, "Select Service" %>
    <%= f.collection_select :service_id, Service.all, :id, :name %><br><Br>

    <% if !@stylist.nil? %>
        Appointment with <%= @stylist.name %>
              <% if current_concierge.admin %> 
               | <%= link_to "Edit Stylist", edit_stylist_path(@stylist) %><br><br>
              <% end %>
        <%= hidden_field_tag  'appointment[stylist_id]', @stylist.id %>
    <% else %>
        <%= f.label :stylist_id, "Select Stylist" %>
        <%= f.collection_select :stylist_id, Stylist.all, :id, :name %><br><Br>
    <% end %>

    <% if !@client.nil? %>
        Appointment for <%= @client.name %> | 
        <%= link_to "Edit Client", edit_client_path(@client) %><br><br>
        <%= hidden_field_tag  'appointment[client_id]', @client.id %>
    <% else %>
        <%= f.label :client_id, "Select Client" %>
        <%= f.collection_select :client_id, Client.all, :id, :name %>
        or <%= link_to "Add a Client", new_client_path %><br><Br>
    <% end %>

    <%= f.submit %>
<% end %>